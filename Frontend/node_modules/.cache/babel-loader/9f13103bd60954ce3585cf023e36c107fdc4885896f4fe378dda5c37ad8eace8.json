{"ast":null,"code":"var _jsxFileName = \"D:\\\\C_Fashion_Shopping\\\\Frontend\\\\src\\\\components\\\\ImageTypeCell.tsx\",\n  _s = $RefreshSig$();\n// components/ImageTypeCell.tsx\nimport React, { useState } from \"react\";\nimport { Select } from \"antd\";\nimport axios from \"axios\";\nimport toast from \"react-hot-toast\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Option\n} = Select;\nconst ImageTypeCell = ({\n  value,\n  imageId\n}) => {\n  _s();\n  const [editing, setEditing] = useState(false);\n  const [currentValue, setCurrentValue] = useState(value);\n  const imageTypeEnum = {\n    MAIN: 'MAIN',\n    SECONDARY: 'SECONDARY',\n    OTHER: 'OTHER'\n  };\n  const handleChange = async newValue => {\n    try {\n      const imageType = imageTypeEnum[newValue] || 'OTHER'; // Default fallback\n      await axios.put(`/api/images/${imageId}`, {\n        imageType\n      }, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      setCurrentValue(imageType); // Update UI with correct enum value\n      toast.success(\"Cập nhật thành công\");\n    } catch (error) {\n      var _error$response, _error$response$data;\n      toast.error((error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || \"Cập nhật thất bại\");\n    } finally {\n      setEditing(false);\n    }\n  };\n  return editing ? /*#__PURE__*/_jsxDEV(Select, {\n    value: currentValue // Bind value to `currentValue`\n    ,\n    style: {\n      width: 130\n    },\n    onChange: handleChange,\n    onBlur: () => setEditing(false),\n    autoFocus: true,\n    children: [/*#__PURE__*/_jsxDEV(Option, {\n      value: \"MAIN\",\n      children: \"MAIN\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Option, {\n      value: \"SECONDARY\",\n      children: \"SECONDARY\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Option, {\n      value: \"OTHER\",\n      children: \"OTHER\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    onDoubleClick: () => setEditing(true),\n    children: currentValue || \"N/A\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n_s(ImageTypeCell, \"Y2R+bSLgIiweT1Tr+mOu/Jj74sA=\");\n_c = ImageTypeCell;\nexport default ImageTypeCell;\nvar _c;\n$RefreshReg$(_c, \"ImageTypeCell\");","map":{"version":3,"names":["React","useState","Select","axios","toast","jsxDEV","_jsxDEV","Option","ImageTypeCell","value","imageId","_s","editing","setEditing","currentValue","setCurrentValue","imageTypeEnum","MAIN","SECONDARY","OTHER","handleChange","newValue","imageType","put","headers","Authorization","localStorage","getItem","success","error","_error$response","_error$response$data","response","data","message","style","width","onChange","onBlur","autoFocus","children","fileName","_jsxFileName","lineNumber","columnNumber","onDoubleClick","_c","$RefreshReg$"],"sources":["D:/C_Fashion_Shopping/Frontend/src/components/ImageTypeCell.tsx"],"sourcesContent":["// components/ImageTypeCell.tsx\r\nimport React, { useState } from \"react\";\r\nimport { Select, message } from \"antd\";\r\nimport axios from \"axios\";\r\nimport toast from \"react-hot-toast\";\r\n\r\nconst { Option } = Select;\r\n\r\nconst ImageTypeCell = ({ value, imageId }: { value: string; imageId: number }) => {\r\n  const [editing, setEditing] = useState(false);\r\n  const [currentValue, setCurrentValue] = useState(value);\r\n\r\n  const imageTypeEnum: Record<string, string> = {\r\n    MAIN: 'MAIN',\r\n    SECONDARY: 'SECONDARY',\r\n    OTHER: 'OTHER',\r\n  };\r\n  \r\n  const handleChange = async (newValue: string) => {\r\n    try {\r\n      const imageType = imageTypeEnum[newValue] || 'OTHER';  // Default fallback\r\n      await axios.put(`/api/images/${imageId}`, { imageType }, {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n      });\r\n      setCurrentValue(imageType);  // Update UI with correct enum value\r\n      toast.success(\"Cập nhật thành công\");\r\n    } catch (error: any) {\r\n      toast.error(error?.response?.data?.message || \"Cập nhật thất bại\");\r\n    } finally {\r\n      setEditing(false);\r\n    }\r\n  };  \r\n\r\n  return editing ? (\r\n    <Select\r\n      value={currentValue}  // Bind value to `currentValue`\r\n      style={{ width: 130 }}\r\n      onChange={handleChange}\r\n      onBlur={() => setEditing(false)}\r\n      autoFocus\r\n    >\r\n      <Option value=\"MAIN\">MAIN</Option>\r\n      <Option value=\"SECONDARY\">SECONDARY</Option>\r\n      <Option value=\"OTHER\">OTHER</Option>\r\n    </Select>\r\n  ) : (\r\n    <div onDoubleClick={() => setEditing(true)}>{currentValue || \"N/A\"}</div>\r\n  );  \r\n};\r\n\r\nexport default ImageTypeCell;\r\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,MAAM,QAAiB,MAAM;AACtC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,MAAM,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEpC,MAAM;EAAEC;AAAO,CAAC,GAAGL,MAAM;AAEzB,MAAMM,aAAa,GAAGA,CAAC;EAAEC,KAAK;EAAEC;AAA4C,CAAC,KAAK;EAAAC,EAAA;EAChF,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGZ,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACa,YAAY,EAAEC,eAAe,CAAC,GAAGd,QAAQ,CAACQ,KAAK,CAAC;EAEvD,MAAMO,aAAqC,GAAG;IAC5CC,IAAI,EAAE,MAAM;IACZC,SAAS,EAAE,WAAW;IACtBC,KAAK,EAAE;EACT,CAAC;EAED,MAAMC,YAAY,GAAG,MAAOC,QAAgB,IAAK;IAC/C,IAAI;MACF,MAAMC,SAAS,GAAGN,aAAa,CAACK,QAAQ,CAAC,IAAI,OAAO,CAAC,CAAE;MACvD,MAAMlB,KAAK,CAACoB,GAAG,CAAC,eAAeb,OAAO,EAAE,EAAE;QAAEY;MAAU,CAAC,EAAE;QACvDE,OAAO,EAAE;UAAEC,aAAa,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAAG;MACtE,CAAC,CAAC;MACFZ,eAAe,CAACO,SAAS,CAAC,CAAC,CAAE;MAC7BlB,KAAK,CAACwB,OAAO,CAAC,qBAAqB,CAAC;IACtC,CAAC,CAAC,OAAOC,KAAU,EAAE;MAAA,IAAAC,eAAA,EAAAC,oBAAA;MACnB3B,KAAK,CAACyB,KAAK,CAAC,CAAAA,KAAK,aAALA,KAAK,wBAAAC,eAAA,GAALD,KAAK,CAAEG,QAAQ,cAAAF,eAAA,wBAAAC,oBAAA,GAAfD,eAAA,CAAiBG,IAAI,cAAAF,oBAAA,uBAArBA,oBAAA,CAAuBG,OAAO,KAAI,mBAAmB,CAAC;IACpE,CAAC,SAAS;MACRrB,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,OAAOD,OAAO,gBACZN,OAAA,CAACJ,MAAM;IACLO,KAAK,EAAEK,YAAa,CAAE;IAAA;IACtBqB,KAAK,EAAE;MAAEC,KAAK,EAAE;IAAI,CAAE;IACtBC,QAAQ,EAAEjB,YAAa;IACvBkB,MAAM,EAAEA,CAAA,KAAMzB,UAAU,CAAC,KAAK,CAAE;IAChC0B,SAAS;IAAAC,QAAA,gBAETlC,OAAA,CAACC,MAAM;MAACE,KAAK,EAAC,MAAM;MAAA+B,QAAA,EAAC;IAAI;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eAClCtC,OAAA,CAACC,MAAM;MAACE,KAAK,EAAC,WAAW;MAAA+B,QAAA,EAAC;IAAS;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eAC5CtC,OAAA,CAACC,MAAM;MAACE,KAAK,EAAC,OAAO;MAAA+B,QAAA,EAAC;IAAK;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC9B,CAAC,gBAETtC,OAAA;IAAKuC,aAAa,EAAEA,CAAA,KAAMhC,UAAU,CAAC,IAAI,CAAE;IAAA2B,QAAA,EAAE1B,YAAY,IAAI;EAAK;IAAA2B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAM,CACzE;AACH,CAAC;AAACjC,EAAA,CAxCIH,aAAa;AAAAsC,EAAA,GAAbtC,aAAa;AA0CnB,eAAeA,aAAa;AAAC,IAAAsC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
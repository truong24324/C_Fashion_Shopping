{"ast":null,"code":"var _jsxFileName = \"D:\\\\C_Fashion_Shopping\\\\Frontend\\\\src\\\\pages\\\\UserPage\\\\CheckoutPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport toast from \"react-hot-toast\";\nimport { jwtDecode } from \"jwt-decode\";\nimport Footer from \"src/Layouts/Footer\";\nimport Navbar from \"src/Layouts/Navbar\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CheckoutPage = () => {\n  _s();\n  var _pricing$subtotal, _pricing$discount, _pricing$shippingFee, _pricing$total;\n  const {\n    state\n  } = useLocation();\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (!state) {\n      navigate(\"/cart\");\n    }\n  }, [state]);\n  const {\n    items = [],\n    address = {},\n    pricing = {}\n  } = state || {};\n  const [province, setProvince] = useState(address.province || null);\n  const [district, setDistrict] = useState(address.district || null);\n  const [ward, setWard] = useState(address.ward || \"\");\n  const [paymentMethod, setPaymentMethod] = useState(\"COD\");\n  const [note, setNote] = useState(\"\"); // Add state for note\n\n  const [provinces, setProvinces] = useState([]);\n  const [districts, setDistricts] = useState([]);\n  const [wards, setWards] = useState([]);\n  const getAccountIdFromToken = () => {\n    const token = localStorage.getItem(\"token\");\n    if (!token) return null;\n    const decoded = jwtDecode(token);\n    return parseInt(decoded.accountId);\n  };\n  const [accountId, setAccountId] = useState(null);\n  const [customerInfo, setCustomerInfo] = useState({\n    fullName: \"\",\n    email: \"\",\n    phone: \"\",\n    shippingAddress: \"\"\n  });\n  useEffect(() => {\n    const accId = getAccountIdFromToken();\n    setAccountId(accId);\n    const userCacheRaw = localStorage.getItem(\"user_cache\");\n    if (userCacheRaw) {\n      try {\n        const userCache = JSON.parse(userCacheRaw);\n        setCustomerInfo({\n          fullName: userCache.fullName || \"\",\n          email: userCache.email || \"\",\n          phone: userCache.phone || \"\",\n          shippingAddress: userCache.homeAddress || \"\" // mapping homeAddress to shippingAddress\n        });\n      } catch (error) {\n        console.error(\"Failed to parse user_cache from localStorage\", error);\n        toast.error(\"Lỗi khi tải dữ liệu người dùng\");\n      }\n    }\n  }, []);\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setCustomerInfo(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  useEffect(() => {\n    const initAddressSelection = async () => {\n      try {\n        var _resProvince$data;\n        // 1. Fetch all provinces\n        const resProvince = await axios.get(\"/api/locations/provinces\");\n        const provincesData = ((_resProvince$data = resProvince.data) === null || _resProvince$data === void 0 ? void 0 : _resProvince$data.data) || resProvince.data;\n        setProvinces(provincesData);\n        const selectedProvince = provincesData.find(p => p.ProvinceID === address.province);\n        if (selectedProvince) {\n          var _resDistrict$data;\n          setProvince(selectedProvince);\n\n          // 2. Fetch districts for selected province\n          const resDistrict = await axios.get(\"/api/locations/districts\", {\n            params: {\n              provinceId: address.province\n            }\n          });\n          const districtsData = ((_resDistrict$data = resDistrict.data) === null || _resDistrict$data === void 0 ? void 0 : _resDistrict$data.data) || resDistrict.data;\n          setDistricts(districtsData);\n          const selectedDistrict = districtsData.find(d => d.DistrictID === address.district);\n          if (selectedDistrict) {\n            var _resWard$data;\n            setDistrict(selectedDistrict);\n\n            // 3. Fetch wards for selected district\n            const resWard = await axios.get(\"/api/locations/wards\", {\n              params: {\n                districtId: address.district\n              }\n            });\n            const wardsData = ((_resWard$data = resWard.data) === null || _resWard$data === void 0 ? void 0 : _resWard$data.data) || resWard.data;\n            setWards(wardsData);\n            const selectedWard = wardsData.find(w => w.WardCode === address.ward);\n            if (selectedWard) {\n              setWard(selectedWard);\n            }\n          }\n        }\n      } catch (error) {\n        toast.error(\"Không thể khởi tạo địa chỉ mặc định.\");\n        console.error(\"initAddressSelection error:\", error);\n      }\n    };\n    initAddressSelection();\n  }, []);\n  const handlePayment = async () => {\n    const orderRequest = {\n      address: customerInfo.shippingAddress,\n      paymentMethod,\n      // được chọn\n      pricing,\n      // tổng giá\n      fullName: customerInfo.fullName,\n      email: customerInfo.email,\n      phone: customerInfo.phone,\n      accountId: accountId,\n      totalAmount: pricing.total,\n      orderDetails: items.map(item => ({\n        variantId: item.variantId,\n        quantity: item.quantity,\n        productPrice: item.price\n      })),\n      shippingFee: pricing.shippingFee,\n      note: note,\n      // Ghi chú\n      orderStatusId: 1,\n      shippingAddress: customerInfo.shippingAddress\n    };\n    try {\n      if (paymentMethod === \"VNPAY\") {\n        // Gửi yêu cầu tạo link thanh toán VNPAY\n        const response = await axios.post(`/api/payment/create/vnpay?amount=${pricing.total}`, {\n          order: orderRequest\n        }, {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}` // Thêm Authorization header\n          }\n        });\n        const paymentUrl = response.data.paymentUrl; // Nhận URL thanh toán từ backend\n        window.location.href = paymentUrl; // Chuyển hướng đến trang thanh toán VNPAY\n      } else if (paymentMethod === \"MoMo\") {\n        // Gửi yêu cầu tạo thanh toán MoMo\n        const response = await axios.post(\"/api/payment/create/momo\",\n        // URL endpoint\n        orderRequest,\n        // Tham số orderRequest\n        {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}` // Thêm Authorization header\n          }\n        });\n        const paymentUrl = response.data.paymentUrl; // Nhận URL thanh toán từ backend\n        window.location.href = paymentUrl; // Chuyển hướng đến trang thanh toán MoMo\n      } else if (paymentMethod === \"COD\") {\n        const response = await axios.post(\"/api/payment/create/COD\", orderRequest, {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n          }\n        });\n        toast.success(\"Đặt hàng thành công!\"); // hoặc chuyển trang\n        // Điều hướng đến trang thành công hoặc reset form\n        navigate(\"/order-success\"); // giả sử bạn có trang này\n      } else {\n        toast.error(\"Chưa chọn phương thức thanh toán.\");\n      }\n    } catch (error) {\n      toast.error(\"Có lỗi xảy ra khi xử lý thanh toán.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pt-20 flex flex-col md:flex-row p-4 md:p-8 bg-gray-100\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pt-20 w-full md:w-1/2 md:pr-8 mb-6 md:mb-0\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-3xl font-bold text-blue-600 mb-4\",\n          children: \"Th\\xF4ng tin giao h\\xE0ng\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500 mb-4\",\n          children: [\"B\\u1EA1n \\u0111\\xE3 c\\xF3 t\\xE0i kho\\u1EA3n? \", /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/auth\",\n            className: \"text-blue-500\",\n            children: \"\\u0110\\u0103ng nh\\u1EADp\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 46\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 21\n        }, this), address && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4 text-sm text-gray-600\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Giao \\u0111\\u1EBFn:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 32\n            }, this), \" \", address.ward, \", \", address.district, \", \", address.province]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm text-gray-700\",\n            children: \"H\\u1ECD v\\xE0 t\\xEAn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"fullName\",\n            value: customerInfo.fullName,\n            onChange: handleInputChange,\n            className: \"w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\",\n            placeholder: \"Nh\\u1EADp h\\u1ECD v\\xE0 t\\xEAn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm text-gray-700\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            name: \"email\",\n            value: customerInfo.email,\n            onChange: handleInputChange,\n            className: \"w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\",\n            placeholder: \"Nh\\u1EADp email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm text-gray-700\",\n            children: \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"tel\",\n            name: \"phone\",\n            value: customerInfo.phone,\n            onChange: handleInputChange,\n            className: \"w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\",\n            placeholder: \"Nh\\u1EADp s\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm text-gray-700\",\n            children: \"\\u0110\\u1ECBa ch\\u1EC9\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold mt-4\",\n            children: \"\\u01AF\\u1EDBc t\\xEDnh th\\u1EDDi gian giao h\\xE0ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: province,\n            onChange: e => {\n              const selectedProvince = provinces.find(p => p.ProvinceID === e.target.value);\n              setProvince(selectedProvince);\n            },\n            className: \"w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\",\n            children: provinces.map(prov => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: prov.ProvinceID,\n              children: prov.ProvinceName\n            }, prov.ProvinceID, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: district,\n            onChange: e => {\n              const selectedDistrict = districts.find(d => d.DistrictID === e.target.value);\n              setDistrict(selectedDistrict);\n              setWard(\"\");\n            },\n            className: \"w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 mt-2\",\n            children: districts.map(dist => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: dist.DistrictID,\n              children: dist.DistrictName\n            }, dist.DistrictID, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: ward,\n            onChange: e => setWard(e.target.value),\n            className: \"w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 mt-2\",\n            children: wards.map(w => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: w.WardCode,\n              children: w.WardName\n            }, w.WardCode, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 25\n          }, this), pricing.estimatedDelivery && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 text-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Th\\u1EDDi gian giao h\\xE0ng \\u01B0\\u1EDBc t\\xEDnh: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 33\n            }, this), pricing.estimatedDelivery]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm text-gray-700 mt-2\",\n            children: \"\\u0110\\u1ECBa ch\\u1EC9 chi ti\\u1EBFt\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"shippingAddress\",\n            value: customerInfo.shippingAddress,\n            onChange: handleInputChange,\n            className: \"w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\",\n            placeholder: \"Nh\\u1EADp \\u0111\\u1ECBa ch\\u1EC9 (s\\u1ED1 nh\\xE0, t\\xEAn \\u0111\\u01B0\\u1EDDng...)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm text-gray-700 mt-2\",\n            children: \"Ghi ch\\xFA\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"note\",\n            value: pricing.note,\n            onChange: e => setNote(e.target.value),\n            className: \"w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\",\n            placeholder: \"Nh\\u1EADp ghi ch\\xFA (n\\u1EBFu c\\xF3)\",\n            rows: 3\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4 p-4 bg-gray-200 rounded-lg text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-600\",\n            children: \"Vui l\\xF2ng ch\\u1ECDn t\\u1EC9nh / th\\xE0nh \\u0111\\u1EC3 c\\xF3 danh s\\xE1ch ph\\u01B0\\u01A1ng th\\u1EE9c v\\u1EADn chuy\\u1EC3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid gap-4 grid-cols-1 sm:grid-cols-2\",\n          children: [{\n            key: \"COD\",\n            label: \"Thanh toán khi nhận hàng (COD)\",\n            description: \"Freeship mọi đơn hàng\",\n            color: \"blue\",\n            img: \"/images/shipcod.png\"\n          }, {\n            key: \"VNPAY\",\n            label: \"Thanh toán online qua VNPAY\",\n            description: \"Bảo mật & nhanh chóng\",\n            color: \"green\",\n            img: \"/images/vnpay.png\"\n          }, {\n            key: \"MoMo\",\n            label: \"Thanh toán qua Ví MoMo\",\n            description: \"Tiện lợi trên di động\",\n            color: \"pink\",\n            img: \"/images/momo.jpg\"\n          }].map(method => /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: method.key,\n            className: `flex items-center border rounded-xl p-4 cursor-pointer shadow-sm transition \n                        hover:shadow-md relative\n                        ${paymentMethod === method.key ? `border-${method.color}-500 ring-2 ring-${method.color}-300` : \"border-gray-300\"}`,\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              id: method.key,\n              name: \"paymentMethod\",\n              value: method.key,\n              checked: paymentMethod === method.key,\n              onChange: () => setPaymentMethod(method.key),\n              className: \"hidden\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              src: method.img,\n              alt: method.label,\n              className: \"w-10 h-10 mr-4 rounded-full object-cover\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium text-gray-800\",\n                children: method.label\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 374,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs text-gray-500\",\n                children: method.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 375,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 33\n            }, this), paymentMethod === method.key && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `absolute top-2 right-2 w-4 h-4 rounded-full bg-${method.color}-500`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 37\n            }, this)]\n          }, method.key, true, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between mt-8\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"/cart\",\n            className: \"inline-block bg-blue-600 text-white px-6 py-2 rounded-lg text-lg text-center\",\n            children: \"Gi\\u1ECF h\\xE0ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handlePayment,\n            className: \"bg-blue-600 text-white px-6 py-2 rounded-lg text-lg\",\n            children: \"Thanh to\\xE1n \\u0111\\u01A1n h\\xE0ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pt-20 w-full md:w-1/2 md:pl-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-3xl font-bold text-blue-600 mb-4\",\n          children: \"Th\\xF4ng tin \\u0111\\u01A1n h\\xE0ng\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 21\n        }, this), items.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-4 border border-gray-200 rounded-xl p-4 shadow-sm hover:shadow-md transition mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: item.productImage,\n            alt: item.productName,\n            className: \"w-20 h-20 object-cover rounded-md\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-base font-semibold text-gray-800\",\n              children: item.productName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 413,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-500 mt-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Gi\\xE1:\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium text-gray-700\",\n                  children: [item.price.toLocaleString(), \" VN\\u0110\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 418,\n                  columnNumber: 41\n                }, this), \" \", \"x \", item.quantity]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"\\u0110\\xE3 ch\\u1ECDn: \", item.variantDetails || \"Thông tin không có sẵn\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 423,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-right\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500\",\n              children: \"T\\u1ED5ng:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-lg font-bold text-blue-600\",\n              children: [(item.totalPrice || item.price * item.quantity).toLocaleString(), \" VN\\u0110\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 29\n          }, this)]\n        }, item.variantId, true, {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 25\n        }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm text-gray-700\",\n            children: \"M\\xE3 gi\\u1EA3m gi\\xE1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              defaultValue: pricing.coupon,\n              className: \"w-3/4 p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\",\n              placeholder: \"Nh\\u1EADp m\\xE3 gi\\u1EA3m gi\\xE1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 442,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"w-1/4 bg-blue-600 text-white p-2 rounded-lg\",\n              children: \"\\xC1p d\\u1EE5ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 441,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl text-blue-600 font-semibold\",\n            children: \"Ch\\u01B0\\u01A1ng tr\\xECnh kh\\xE1ch h\\xE0ng th\\xE2n thi\\u1EBFt\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"bg-yellow-400 px-2 py-1 text-sm font-semibold rounded-md\",\n              children: \"Gi\\u1EA3m 100.000\\u20AB\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"ml-2 bg-blue-600 text-white px-4 py-1 rounded-lg\",\n              children: \"\\u0110\\u0103ng nh\\u1EADp\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 457,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"bg-yellow-400 px-2 py-1 text-sm font-semibold rounded-md\",\n              children: \"Gi\\u1EA3m 30.000\\u20AB\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"ml-2 bg-blue-600 text-white px-4 py-1 rounded-lg\",\n              children: \"\\u0110\\u0103ng nh\\u1EADp\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 461,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 459,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 453,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"T\\u1EA1m t\\xEDnh:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 468,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [(_pricing$subtotal = pricing.subtotal) === null || _pricing$subtotal === void 0 ? void 0 : _pricing$subtotal.toLocaleString(), \"\\u20AB\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 469,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Gi\\u1EA3m gi\\xE1:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 472,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [(_pricing$discount = pricing.discount) === null || _pricing$discount === void 0 ? void 0 : _pricing$discount.toLocaleString(), \"\\u20AB\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 473,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 471,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Ph\\xED v\\u1EADn chuy\\u1EC3n:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 476,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [((_pricing$shippingFee = pricing.shippingFee) === null || _pricing$shippingFee === void 0 ? void 0 : _pricing$shippingFee.toLocaleString()) || \"Đang cập nhật...\", \"\\u20AB\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 477,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 475,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between font-semibold text-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"T\\u1ED5ng c\\u1ED9ng:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 480,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [(_pricing$total = pricing.total) === null || _pricing$total === void 0 ? void 0 : _pricing$total.toLocaleString(), \"\\u20AB\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 479,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 486,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s(CheckoutPage, \"84L3zjsvb/SNDVzYdnEYzW+kXUg=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = CheckoutPage;\nexport default CheckoutPage;\nvar _c;\n$RefreshReg$(_c, \"CheckoutPage\");","map":{"version":3,"names":["React","useState","useEffect","Link","useLocation","useNavigate","axios","toast","jwtDecode","Footer","Navbar","jsxDEV","_jsxDEV","Fragment","_Fragment","CheckoutPage","_s","_pricing$subtotal","_pricing$discount","_pricing$shippingFee","_pricing$total","state","navigate","items","address","pricing","province","setProvince","district","setDistrict","ward","setWard","paymentMethod","setPaymentMethod","note","setNote","provinces","setProvinces","districts","setDistricts","wards","setWards","getAccountIdFromToken","token","localStorage","getItem","decoded","parseInt","accountId","setAccountId","customerInfo","setCustomerInfo","fullName","email","phone","shippingAddress","accId","userCacheRaw","userCache","JSON","parse","homeAddress","error","console","handleInputChange","e","name","value","target","prev","initAddressSelection","_resProvince$data","resProvince","get","provincesData","data","selectedProvince","find","p","ProvinceID","_resDistrict$data","resDistrict","params","provinceId","districtsData","selectedDistrict","d","DistrictID","_resWard$data","resWard","districtId","wardsData","selectedWard","w","WardCode","handlePayment","orderRequest","totalAmount","total","orderDetails","map","item","variantId","quantity","productPrice","price","shippingFee","orderStatusId","response","post","order","headers","Authorization","paymentUrl","window","location","href","success","children","fileName","_jsxFileName","lineNumber","columnNumber","className","to","type","onChange","placeholder","prov","ProvinceName","dist","DistrictName","WardName","estimatedDelivery","rows","key","label","description","color","img","method","htmlFor","id","checked","src","alt","onClick","productImage","productName","toLocaleString","variantDetails","totalPrice","defaultValue","coupon","subtotal","discount","_c","$RefreshReg$"],"sources":["D:/C_Fashion_Shopping/Frontend/src/pages/UserPage/CheckoutPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport toast from \"react-hot-toast\";\r\nimport { jwtDecode } from \"jwt-decode\";\r\nimport Footer from \"src/Layouts/Footer\";\r\nimport Navbar from \"src/Layouts/Navbar\";\r\n\r\ninterface DecodedToken {\r\n    accountId: string;\r\n    exp: number;\r\n    iat: number;\r\n    email: string;\r\n    roles: { authority: string }[];\r\n}\r\nconst CheckoutPage: React.FC = () => {\r\n    const { state } = useLocation();\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        if (!state) {\r\n            navigate(\"/cart\");\r\n        }\r\n    }, [state]);\r\n\r\n    const {\r\n        items = [],\r\n        address = {},\r\n        pricing = {},\r\n    } = state || {};\r\n\r\n    const [province, setProvince] = useState<any>(address.province || null);\r\n    const [district, setDistrict] = useState<any>(address.district || null);\r\n    const [ward, setWard] = useState<any>(address.ward || \"\");\r\n    const [paymentMethod, setPaymentMethod] = useState<string>(\"COD\");\r\n    const [note, setNote] = useState<string>(\"\"); // Add state for note\r\n\r\n    const [provinces, setProvinces] = useState<any[]>([]);\r\n    const [districts, setDistricts] = useState<any[]>([]);\r\n    const [wards, setWards] = useState<any[]>([]);\r\n    const getAccountIdFromToken = () => {\r\n        const token = localStorage.getItem(\"token\");\r\n        if (!token) return null;\r\n        const decoded: DecodedToken = jwtDecode(token);\r\n        return parseInt(decoded.accountId);\r\n    };\r\n\r\n    const [accountId, setAccountId] = useState<number | null>(null);\r\n    const [customerInfo, setCustomerInfo] = useState({\r\n        fullName: \"\",\r\n        email: \"\",\r\n        phone: \"\",\r\n        shippingAddress: \"\",\r\n    });\r\n\r\n    useEffect(() => {\r\n        const accId = getAccountIdFromToken();\r\n        setAccountId(accId);\r\n\r\n        const userCacheRaw = localStorage.getItem(\"user_cache\");\r\n        if (userCacheRaw) {\r\n            try {\r\n                const userCache = JSON.parse(userCacheRaw);\r\n                setCustomerInfo({\r\n                    fullName: userCache.fullName || \"\",\r\n                    email: userCache.email || \"\",\r\n                    phone: userCache.phone || \"\",\r\n                    shippingAddress: userCache.homeAddress || \"\", // mapping homeAddress to shippingAddress\r\n                });\r\n            } catch (error) {\r\n                console.error(\"Failed to parse user_cache from localStorage\", error);\r\n                toast.error(\"Lỗi khi tải dữ liệu người dùng\");\r\n            }\r\n        }\r\n    }, []);\r\n\r\n    const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const { name, value } = e.target;\r\n        setCustomerInfo((prev) => ({\r\n            ...prev,\r\n            [name]: value,\r\n        }));\r\n    };\r\n\r\n    useEffect(() => {\r\n        const initAddressSelection = async () => {\r\n            try {\r\n                // 1. Fetch all provinces\r\n                const resProvince = await axios.get(\"/api/locations/provinces\");\r\n                const provincesData = resProvince.data?.data || resProvince.data;\r\n                setProvinces(provincesData);\r\n\r\n                const selectedProvince = provincesData.find((p: any) => p.ProvinceID === address.province);\r\n                if (selectedProvince) {\r\n                    setProvince(selectedProvince);\r\n\r\n                    // 2. Fetch districts for selected province\r\n                    const resDistrict = await axios.get(\"/api/locations/districts\", {\r\n                        params: { provinceId: address.province }\r\n                    });\r\n                    const districtsData = resDistrict.data?.data || resDistrict.data;\r\n                    setDistricts(districtsData);\r\n\r\n                    const selectedDistrict = districtsData.find((d: any) => d.DistrictID === address.district);\r\n                    if (selectedDistrict) {\r\n                        setDistrict(selectedDistrict);\r\n\r\n                        // 3. Fetch wards for selected district\r\n                        const resWard = await axios.get(\"/api/locations/wards\", {\r\n                            params: { districtId: address.district }\r\n                        });\r\n                        const wardsData = resWard.data?.data || resWard.data;\r\n                        setWards(wardsData);\r\n\r\n                        const selectedWard = wardsData.find((w: any) => w.WardCode === address.ward);\r\n                        if (selectedWard) {\r\n                            setWard(selectedWard);\r\n                        }\r\n                    }\r\n                }\r\n            } catch (error) {\r\n                toast.error(\"Không thể khởi tạo địa chỉ mặc định.\");\r\n                console.error(\"initAddressSelection error:\", error);\r\n            }\r\n        };\r\n\r\n        initAddressSelection();\r\n    }, []);\r\n\r\n    const handlePayment = async () => {\r\n        const orderRequest = {\r\n            address: customerInfo.shippingAddress,\r\n            paymentMethod, // được chọn\r\n            pricing, // tổng giá\r\n            fullName: customerInfo.fullName,\r\n            email: customerInfo.email,\r\n            phone: customerInfo.phone,\r\n            accountId: accountId,\r\n            totalAmount: pricing.total,\r\n            orderDetails: items.map((item: any) => ({\r\n                variantId: item.variantId,\r\n                quantity: item.quantity,\r\n                productPrice: item.price,\r\n            })),\r\n            shippingFee: pricing.shippingFee,\r\n            note: note, // Ghi chú\r\n            orderStatusId: 1,\r\n            shippingAddress: customerInfo.shippingAddress,\r\n        };\r\n\r\n        try {\r\n            if (paymentMethod === \"VNPAY\") {\r\n                // Gửi yêu cầu tạo link thanh toán VNPAY\r\n                const response = await axios.post(\r\n                    `/api/payment/create/vnpay?amount=${pricing.total}`, { order: orderRequest },\r\n                    {\r\n                        headers: {\r\n                            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,  // Thêm Authorization header\r\n                        },\r\n                    }\r\n                );\r\n                const paymentUrl = response.data.paymentUrl;  // Nhận URL thanh toán từ backend\r\n                window.location.href = paymentUrl;  // Chuyển hướng đến trang thanh toán VNPAY\r\n            } else if (paymentMethod === \"MoMo\") {\r\n                // Gửi yêu cầu tạo thanh toán MoMo\r\n                const response = await axios.post(\r\n                    \"/api/payment/create/momo\",   // URL endpoint\r\n                    orderRequest,         // Tham số orderRequest\r\n                    {\r\n                        headers: {\r\n                            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,  // Thêm Authorization header\r\n                        },\r\n                    }\r\n                );\r\n                const paymentUrl = response.data.paymentUrl;  // Nhận URL thanh toán từ backend\r\n                window.location.href = paymentUrl;  // Chuyển hướng đến trang thanh toán MoMo\r\n            } else if (paymentMethod === \"COD\") {\r\n                const response = await axios.post(\r\n                    \"/api/payment/create/COD\",\r\n                    orderRequest,\r\n                    {\r\n                        headers: {\r\n                            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n                        },\r\n                    }\r\n                );\r\n                toast.success(\"Đặt hàng thành công!\");  // hoặc chuyển trang\r\n                // Điều hướng đến trang thành công hoặc reset form\r\n                navigate(\"/order-success\"); // giả sử bạn có trang này\r\n            }\r\n            else {\r\n                toast.error(\"Chưa chọn phương thức thanh toán.\");\r\n            }\r\n        } catch (error) {\r\n            toast.error(\"Có lỗi xảy ra khi xử lý thanh toán.\");\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Navbar />\r\n\r\n            <div className=\"pt-20 flex flex-col md:flex-row p-4 md:p-8 bg-gray-100\">\r\n                {/* Cột bên trái */}\r\n                <div className=\"pt-20 w-full md:w-1/2 md:pr-8 mb-6 md:mb-0\">\r\n                    <h2 className=\"text-3xl font-bold text-blue-600 mb-4\">Thông tin giao hàng</h2>\r\n                    <p className=\"text-sm text-gray-500 mb-4\">\r\n                        Bạn đã có tài khoản? <Link to=\"/auth\" className=\"text-blue-500\">Đăng nhập</Link>\r\n                    </p>\r\n\r\n                    {address && (\r\n                        <div className=\"mb-4 text-sm text-gray-600\">\r\n                            <p><strong>Giao đến:</strong> {address.ward}, {address.district}, {address.province}</p>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Thông tin người nhận */}\r\n                    <div className=\"mb-4\">\r\n                        <label className=\"block text-sm text-gray-700\">Họ và tên</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            name=\"fullName\"\r\n                            value={customerInfo.fullName}\r\n                            onChange={handleInputChange}\r\n                            className=\"w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                            placeholder=\"Nhập họ và tên\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"mb-4\">\r\n                        <label className=\"block text-sm text-gray-700\">Email</label>\r\n                        <input\r\n                            type=\"email\"\r\n                            name=\"email\"\r\n                            value={customerInfo.email}\r\n                            onChange={handleInputChange}\r\n                            className=\"w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                            placeholder=\"Nhập email\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"mb-4\">\r\n                        <label className=\"block text-sm text-gray-700\">Số điện thoại</label>\r\n                        <input\r\n                            type=\"tel\"\r\n                            name=\"phone\"\r\n                            value={customerInfo.phone}\r\n                            onChange={handleInputChange}\r\n                            className=\"w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                            placeholder=\"Nhập số điện thoại\"\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"mb-4\">\r\n                        <label className=\"block text-sm text-gray-700\">Địa chỉ</label>\r\n\r\n                        <h3 className=\"text-lg font-semibold mt-4\">Ước tính thời gian giao hàng</h3>\r\n                        <select\r\n                            value={province}\r\n                            onChange={(e) => {\r\n                                const selectedProvince = provinces.find((p) => p.ProvinceID === e.target.value);\r\n                                setProvince(selectedProvince);\r\n                            }}\r\n                            className=\"w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                        >\r\n                            {provinces.map((prov) => (\r\n                                <option key={prov.ProvinceID} value={prov.ProvinceID}>\r\n                                    {prov.ProvinceName}\r\n                                </option>\r\n                            ))}\r\n                        </select>\r\n                        <select\r\n                            value={district}\r\n                            onChange={(e) => {\r\n                                const selectedDistrict = districts.find((d) => d.DistrictID === e.target.value);\r\n                                setDistrict(selectedDistrict);\r\n                                setWard(\"\");\r\n                            }}\r\n                            className=\"w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 mt-2\"\r\n                        >\r\n                            {districts.map((dist) => (\r\n                                <option key={dist.DistrictID} value={dist.DistrictID}>\r\n                                    {dist.DistrictName}\r\n                                </option>\r\n                            ))}\r\n                        </select>\r\n                        <select\r\n                            value={ward}\r\n                            onChange={(e) => setWard(e.target.value)}\r\n                            className=\"w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 mt-2\"\r\n                        >\r\n                            {wards.map((w) => (\r\n                                <option key={w.WardCode} value={w.WardCode}>\r\n                                    {w.WardName}\r\n                                </option>\r\n                            ))}\r\n                        </select>\r\n                        \r\n\r\n                        {pricing.estimatedDelivery && (\r\n                            <div className=\"mt-4 text-lg\">\r\n                                <strong>Thời gian giao hàng ước tính: </strong>{pricing.estimatedDelivery}\r\n                            </div>\r\n                        )}\r\n\r\n                        <label className=\"block text-sm text-gray-700 mt-2\">Địa chỉ chi tiết</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            name=\"shippingAddress\"\r\n                            value={customerInfo.shippingAddress}\r\n                            onChange={handleInputChange}\r\n                            className=\"w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                            placeholder=\"Nhập địa chỉ (số nhà, tên đường...)\"\r\n                        />\r\n\r\n                        <label className=\"block text-sm text-gray-700 mt-2\">Ghi chú</label>\r\n                        <textarea\r\n                            name=\"note\"\r\n                            value={pricing.note}\r\n                            onChange={(e) => setNote(e.target.value)}\r\n                            className=\"w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                            placeholder=\"Nhập ghi chú (nếu có)\"\r\n                            rows={3}\r\n                        ></textarea>\r\n                    </div>\r\n\r\n\r\n                    {/* Phương thức vận chuyển */}\r\n                    <div className=\"mb-4 p-4 bg-gray-200 rounded-lg text-center\">\r\n                        <p className=\"text-sm text-gray-600\">Vui lòng chọn tỉnh / thành để có danh sách phương thức vận chuyển</p>\r\n                    </div>\r\n\r\n                    {/* Phương thức thanh toán */}\r\n                    <div className=\"grid gap-4 grid-cols-1 sm:grid-cols-2\">\r\n                        {[\r\n                            {\r\n                                key: \"COD\",\r\n                                label: \"Thanh toán khi nhận hàng (COD)\",\r\n                                description: \"Freeship mọi đơn hàng\",\r\n                                color: \"blue\",\r\n                                img: \"/images/shipcod.png\",\r\n                            },\r\n                            {\r\n                                key: \"VNPAY\",\r\n                                label: \"Thanh toán online qua VNPAY\",\r\n                                description: \"Bảo mật & nhanh chóng\",\r\n                                color: \"green\",\r\n                                img: \"/images/vnpay.png\",\r\n                            },\r\n                            {\r\n                                key: \"MoMo\",\r\n                                label: \"Thanh toán qua Ví MoMo\",\r\n                                description: \"Tiện lợi trên di động\",\r\n                                color: \"pink\",\r\n                                img: \"/images/momo.jpg\",\r\n                            },\r\n                        ].map((method) => (\r\n                            <label\r\n                                key={method.key}\r\n                                htmlFor={method.key}\r\n                                className={`flex items-center border rounded-xl p-4 cursor-pointer shadow-sm transition \r\n                        hover:shadow-md relative\r\n                        ${paymentMethod === method.key ? `border-${method.color}-500 ring-2 ring-${method.color}-300` : \"border-gray-300\"}`}\r\n                            >\r\n                                <input\r\n                                    type=\"radio\"\r\n                                    id={method.key}\r\n                                    name=\"paymentMethod\"\r\n                                    value={method.key}\r\n                                    checked={paymentMethod === method.key}\r\n                                    onChange={() => setPaymentMethod(method.key)}\r\n                                    className=\"hidden\"\r\n                                />\r\n                                <img src={method.img} alt={method.label} className=\"w-10 h-10 mr-4 rounded-full object-cover\" />\r\n                                <div className=\"flex flex-col\">\r\n                                    <span className=\"font-medium text-gray-800\">{method.label}</span>\r\n                                    <span className=\"text-xs text-gray-500\">{method.description}</span>\r\n                                </div>\r\n                                {paymentMethod === method.key && (\r\n                                    <div className={`absolute top-2 right-2 w-4 h-4 rounded-full bg-${method.color}-500`}></div>\r\n                                )}\r\n                            </label>\r\n                        ))}\r\n                    </div>\r\n\r\n                    {/* Nút hoàn tất */}\r\n                    <div className=\"flex justify-between mt-8\">\r\n                        <Link to=\"/cart\" className=\"inline-block bg-blue-600 text-white px-6 py-2 rounded-lg text-lg text-center\">\r\n                            Giỏ hàng\r\n                        </Link>\r\n                        <button\r\n                            onClick={handlePayment}\r\n                            className=\"bg-blue-600 text-white px-6 py-2 rounded-lg text-lg\"\r\n                        >\r\n                            Thanh toán đơn hàng\r\n                        </button>\r\n\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Cột bên phải */}\r\n                <div className=\"pt-20 w-full md:w-1/2 md:pl-8\">\r\n                    <h2 className=\"text-3xl font-bold text-blue-600 mb-4\">Thông tin đơn hàng</h2>\r\n                    {items.map((item: any) => (\r\n                        <div\r\n                            key={item.variantId}\r\n                            className=\"flex items-center gap-4 border border-gray-200 rounded-xl p-4 shadow-sm hover:shadow-md transition mb-4\"\r\n                        >\r\n                            <img\r\n                                src={item.productImage}\r\n                                alt={item.productName}\r\n                                className=\"w-20 h-20 object-cover rounded-md\"\r\n                            />\r\n                            <div className=\"flex-1\">\r\n                                <p className=\"text-base font-semibold text-gray-800\">{item.productName}</p>\r\n\r\n                                <div className=\"text-sm text-gray-500 mt-1\">\r\n                                    <p>\r\n                                        Giá:{\" \"}\r\n                                        <span className=\"font-medium text-gray-700\">\r\n                                            {item.price.toLocaleString()} VNĐ\r\n                                        </span>{\" \"}\r\n                                        x {item.quantity}\r\n                                    </p>\r\n                                    <p>\r\n                                        Đã chọn: {item.variantDetails || \"Thông tin không có sẵn\"}\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"text-right\">\r\n                                <p className=\"text-sm text-gray-500\">Tổng:</p>\r\n                                <p className=\"text-lg font-bold text-blue-600\">\r\n                                    {(item.totalPrice || item.price * item.quantity).toLocaleString()} VNĐ\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n\r\n                    {/* Mã giảm giá */}\r\n                    <div className=\"mb-4\">\r\n                        <label className=\"block text-sm text-gray-700\">Mã giảm giá</label>\r\n                        <div className=\"flex\">\r\n                            <input\r\n                                type=\"text\"\r\n                                defaultValue={pricing.coupon}\r\n                                className=\"w-3/4 p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                                placeholder=\"Nhập mã giảm giá\"\r\n                            />\r\n                            <button className=\"w-1/4 bg-blue-600 text-white p-2 rounded-lg\">Áp dụng</button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Chương trình KH thân thiết */}\r\n                    <div className=\"mb-4\">\r\n                        <h3 className=\"text-xl text-blue-600 font-semibold\">Chương trình khách hàng thân thiết</h3>\r\n                        <div className=\"flex items-center mb-2\">\r\n                            <span className=\"bg-yellow-400 px-2 py-1 text-sm font-semibold rounded-md\">Giảm 100.000₫</span>\r\n                            <button className=\"ml-2 bg-blue-600 text-white px-4 py-1 rounded-lg\">Đăng nhập</button>\r\n                        </div>\r\n                        <div className=\"flex items-center\">\r\n                            <span className=\"bg-yellow-400 px-2 py-1 text-sm font-semibold rounded-md\">Giảm 30.000₫</span>\r\n                            <button className=\"ml-2 bg-blue-600 text-white px-4 py-1 rounded-lg\">Đăng nhập</button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Tổng tiền */}\r\n                    <div className=\"mt-8\">\r\n                        <div className=\"flex justify-between mb-2\">\r\n                            <p>Tạm tính:</p>\r\n                            <p>{pricing.subtotal?.toLocaleString()}₫</p>\r\n                        </div>\r\n                        <div className=\"flex justify-between mb-2\">\r\n                            <p>Giảm giá:</p>\r\n                            <p>{pricing.discount?.toLocaleString()}₫</p>\r\n                        </div>\r\n                        <div className=\"flex justify-between mb-2\">\r\n                            <p>Phí vận chuyển:</p>\r\n                            <p>{pricing.shippingFee?.toLocaleString() || \"Đang cập nhật...\"}₫</p>\r\n                        </div>\r\n                        <div className=\"flex justify-between font-semibold text-lg\">\r\n                            <p>Tổng cộng:</p>\r\n                            <p>{pricing.total?.toLocaleString()}₫</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <Footer />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default CheckoutPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}